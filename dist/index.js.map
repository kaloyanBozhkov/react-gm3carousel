{"version":3,"sources":["../src/index.tsx","../src/components/molecules/GM3Carousel.molecule.tsx","../src/hooks/useLoopData.ts"],"sourcesContent":["import \"css/tailwind.css\";\nexport { GM3Carousel } from \"./components/molecules/GM3Carousel.molecule\";\n","import { ReactNode, useState } from \"react\";\n\nimport { twMerge } from \"tailwind-merge\";\n\nimport useLoopData from \"hooks/useLoopData\";\n\nexport const GM3Carousel = ({\n  className = \"\",\n  slides,\n  perPage,\n  speedS = 2,\n  withDualSmallItems = false,\n  smallItemClassName = \"\",\n  bigItemClassName = \"\",\n  isPaused = false,\n  pauseOnMouseEnter = true,\n  isVertical = false,\n  slideWrapperClassName = \"gm3c-duration-500\",\n  gap,\n}: {\n  className?: string;\n  slides: { content: ReactNode; key: string }[];\n  speedS: number;\n  perPage: number;\n  withDualSmallItems?: boolean;\n  smallItemClassName?: string;\n  bigItemClassName?: string;\n  isPaused?: boolean;\n  pauseOnMouseEnter?: boolean;\n  isVertical?: boolean;\n  slideWrapperClassName?: string;\n  gap?: number | null;\n}) => {\n  const [t, setT] = useState(false),\n    // +2 for the flex-0 ones, speed is + 500ms for animation\n    slidesSlice = useLoopData(\n      slides,\n      perPage + 2 + (withDualSmallItems ? 2 : 0),\n      speedS + 0.5,\n      isPaused || (pauseOnMouseEnter && t)\n    );\n\n  return (\n    <div\n      style={gap ? { gap } : {}}\n      className={twMerge(\n        \"gm3c-flex gm3c-h-full gm3c-w-full\",\n        className,\n        isVertical ? \"gm3c-flex-col\" : \"gm3c-flex-row\"\n      )}\n      {...(pauseOnMouseEnter && {\n        onMouseEnter: () => setT(true),\n        onMouseLeave: () => setT(false),\n      })}\n    >\n      {slidesSlice.map((slide, idx) => {\n        const variant = (() => {\n            if (idx === 0) return \"gm3c-flex-[0]\";\n            if (idx === slidesSlice.length - 1) return \"gm3c-flex-[0]\";\n\n            if (idx === 1)\n              return twMerge(\"gm3c-flex-[0.33]\", smallItemClassName);\n            if (idx === slidesSlice.length - 2)\n              return twMerge(\"gm3c-flex-[0.33]\", smallItemClassName);\n\n            if (withDualSmallItems) {\n              if (idx === 2)\n                return twMerge(\"gm3c-flex-[0.33]\", smallItemClassName);\n              if (idx === slidesSlice.length - 3)\n                return twMerge(\"gm3c-flex-[0.33]\", smallItemClassName);\n            }\n\n            return twMerge(\"gm3c-flex-1\", bigItemClassName);\n          })(),\n          isActive = (() => {\n            if (idx === 0) return;\n            if (idx === slidesSlice.length - 1) return;\n\n            if (idx === 1) return;\n            if (idx === slidesSlice.length - 2) return;\n\n            if (withDualSmallItems) {\n              if (idx === 2) return;\n              if (idx === slidesSlice.length - 3) return;\n            }\n\n            return true;\n          })(),\n          style = (() => {\n            if (!gap) return;\n            if (isVertical) {\n              if (idx === slidesSlice.length - 1) return { marginBottom: -gap };\n              if (idx === 0) return { marginTop: -gap };\n              return;\n            }\n            if (idx === slidesSlice.length - 1) return { marginLeft: -gap };\n            if (idx === 0) return { marginRight: -gap };\n          })();\n\n        return (\n          <div\n            key={slide.key}\n            className={twMerge(\n              \"gm3c-relative gm3c-overflow-hidden gm3c-rounded-[30px] gm3c-transition-all gm3c-duration-500 gm3c-ease-linear\",\n              variant,\n              slideWrapperClassName\n            )}\n            data-active={isActive}\n            style={style}\n          >\n            {slide.content}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react'\n\nconst useLoopData = <T>(d: T[], perPage: number, everyS = 1, isPaused = false) => {\n  const [item, setItem] = useState(0),\n    [data, setData] = useState([] as T[])\n\n  useEffect(() => {\n    if (isPaused) return\n    const intervalId = setInterval(() => {\n      setItem((prev) => (prev >= d.length ? 0 : prev + 1))\n    }, everyS * 1000)\n    return () => clearInterval(intervalId)\n  }, [everyS, d.length, isPaused])\n\n  useEffect(() => {\n    const arr = [...d]\n    while (arr.length - item < perPage) arr.push(...d)\n    const newD = arr.slice(item, perPage + item)\n    setData(newD)\n  }, [item, d, perPage])\n\n  return data\n}\n\nexport default useLoopData\n"],"mappings":"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","names":["import_react"]}