{"version":3,"sources":["../src/index.tsx","../src/components/molecules/GM3Carousel.molecule.tsx","../src/hooks/useLoopData.ts"],"sourcesContent":["import \"css/tailwind.css\";\nexport { GM3Carousel } from \"./components/molecules/GM3Carousel.molecule\";\n","import { ReactNode, useState } from \"react\";\n\nimport { twMerge } from \"tailwind-merge\";\n\nimport useLoopData from \"hooks/useLoopData\";\n\nexport const GM3Carousel = ({\n  className = \"\",\n  slides,\n  perPage,\n  speedS = 2,\n  withDualSmallItems = false,\n  smallItemClassName = \"\",\n  bigItemClassName = \"\",\n  isPaused = false,\n  pauseOnMouseEnter = true,\n  isVertical = false,\n  slideWrapperClassName = \"duration-500\",\n}: {\n  className?: string;\n  slides: { content: ReactNode; key: string }[];\n  speedS: number;\n  perPage: number;\n  withDualSmallItems?: boolean;\n  smallItemClassName?: string;\n  bigItemClassName?: string;\n  isPaused?: boolean;\n  pauseOnMouseEnter?: boolean;\n  isVertical?: boolean;\n  slideWrapperClassName?: string;\n}) => {\n  const [t, setT] = useState(false),\n    // +2 for the flex-0 ones, speed is + 500ms for animation\n    slidesSlice = useLoopData(\n      slides,\n      perPage + 2 + (withDualSmallItems ? 2 : 0),\n      speedS + 4,\n      isPaused || (pauseOnMouseEnter && t)\n    );\n\n  return (\n    <div\n      className={twMerge(\n        \"flex h-full w-full gap-4\",\n        className,\n        isVertical ? \"flex-col\" : \"flex-row\"\n      )}\n      {...(pauseOnMouseEnter && {\n        onMouseEnter: () => setT(true),\n        onMouseLeave: () => setT(false),\n      })}\n    >\n      {slidesSlice.map((slide, idx) => {\n        const variant = (() => {\n            if (idx === 0) return \"flex-[0]\";\n            if (idx === slidesSlice.length - 1) return \"flex-[0]\";\n\n            if (idx === 1) return twMerge(\"flex-[0.33]\", smallItemClassName);\n            if (idx === slidesSlice.length - 2)\n              return twMerge(\"flex-[0.33]\", smallItemClassName);\n\n            if (withDualSmallItems) {\n              if (idx === 2) return twMerge(\"flex-[0.33]\", smallItemClassName);\n              if (idx === slidesSlice.length - 3)\n                return twMerge(\"flex-[0.33]\", smallItemClassName);\n            }\n\n            return twMerge(\"flex-1\", bigItemClassName);\n          })(),\n          isActive = (() => {\n            if (idx === 0) return;\n            if (idx === slidesSlice.length - 1) return;\n\n            if (idx === 1) return;\n            if (idx === slidesSlice.length - 2) return;\n\n            if (withDualSmallItems) {\n              if (idx === 2) return;\n              if (idx === slidesSlice.length - 3) return;\n            }\n\n            return true;\n          })();\n\n        return (\n          <div\n            key={slide.key}\n            className={twMerge(\n              \"relative overflow-hidden rounded-[30px] transition-all duration-[4ss] ease-linear\",\n              variant,\n              slideWrapperClassName\n            )}\n            data-active={isActive}\n          >\n            {slide.content}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react'\n\nconst useLoopData = <T>(d: T[], perPage: number, everyS = 1, isPaused = false) => {\n  const [item, setItem] = useState(0),\n    [data, setData] = useState([] as T[])\n\n  useEffect(() => {\n    if (isPaused) return\n    const intervalId = setInterval(() => {\n      setItem((prev) => (prev >= d.length ? 0 : prev + 1))\n    }, everyS * 1000)\n    return () => clearInterval(intervalId)\n  }, [everyS, d.length, isPaused])\n\n  useEffect(() => {\n    const arr = [...d]\n    while (arr.length - item < perPage) arr.push(...d)\n    const newD = arr.slice(item, perPage + item)\n    setData(newD)\n  }, [item, d, perPage])\n\n  return data\n}\n\nexport default useLoopData\n"],"mappings":"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","names":["import_react"]}